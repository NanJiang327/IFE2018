<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<style>
		.box{
			margin: 0 auto 10px auto;
			border: 1px solid chartreuse;
		}
	</style>
</head>
<body>
	<div class="box">
		<h1>练习 1</h1>
		<div id="inputArea">
			<label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
			<label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
		</div>
		<div id="btn-set">
			<button id="btn1">判断当前选中的输入框输入内容是否为数字</button>
			<button id="btn2">把 A 四舍五入为 B 个小数位数的数字</button>
			<button id="btn3">当前选中数字的绝对值</button>
			<button id="btn4">对当前选中的数字进行上舍入</button>
			<button id="btn5">对当前选中的数字进行下舍入</button>
			<button id="btn6">把当前选中的数字四舍五入为最接近的整数</button>
			<button id="btn7">返回 A 和 B 中的最高值</button>
			<button id="btn8">返回 A 和 B 中的最低值</button>
		</div>
		<p id="result"></p>
	</div>

	<div class="box">
		<h1>练习 2</h1>
		<div>
			<label>String A:
				<input id="radio-a2" type="radio" checked="true" name="str-obj" value="a">
			</label>
			<textarea id="str-a"></textarea>
			<label>String B:
				<input id="radio-b2" type="radio" name="str-obj" value="b">
			</label>
			<textarea id="str-b"></textarea>
			<label>Num A：<input id="num-a2" type="number" value="0"></label>
			<label>Num B：<input id="num-b2" type="number" value="1"></label>
		</div>
		<div id="btn-set2">
			<button id="btn21">获取当前选中输入的内容长度</button>
			<button id="btn22">当前选中输入中的第3个字符</button>
			<button id="btn23">把两个输入框的文字连接在一起输出（concat）</button>
			<button id="btn24">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
			<button id="btn25">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
			<button id="btn26">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
			<button id="btn27">当前选中输入框的行数</button>
			<button id="btn28">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
			<button id="btn29">把所选输入框中的内容全部转为大写</button>
			<button id="btn210">把所选输入框中的内容全部转为小写</button>
			<button id="btn211">把所选输入框中内容的半角空格全部去除</button>
			<button id="btn212">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
		</div>
		<p id="result2"></p>
	</div>
</body>
<script>
	//公用方法
	var checkBtn = function(btnA, btnB){
		return (btnA.checked === false && btnB.checked === false) ? 'noBtnChecked' : btnA.checked ? 'A' : 'B';;
	};

	//练习 1
	var result = document.querySelector('#result');
	var numberABtn = document.querySelector('#radio-a');
	var numberBBtn = document.querySelector('#radio-b');

	var checkNum = function(numA, numB){
		var resultSet = [];
		resultSet[0] = isNaN(numA) ? false : typeof numA === 'number';
		resultSet[1] = isNaN(numB) ? false : typeof numB === 'number';
		return resultSet;
	};


	// 用时间代理的方式绑定按钮
	document.querySelector('#btn-set').addEventListener('click',function () {
		var numberA = document.querySelector('#num-a');
		var numberB = document.querySelector('#num-b');
		// 判断哪个按钮选中

		//获取a和b的输入值
		numberA = parseFloat(numberA.value);
		numberB = parseFloat(numberB.value);
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;

		if (checkBtn(numberABtn, numberBBtn) === 'noBtnChecked'){
			alert('没有选中radio按钮');
		} else{
			if (target.nodeName.toLocaleLowerCase() === 'button'){
				switch (target.id){
					case 'btn1':
						if (checkBtn(numberABtn, numberBBtn) === 'A'){
							result.textContent = checkNum(numberA, numberB)[0] ? `输出为 ${numberA}` : '输入不为数字, 请重新输入';
						}else{
							result.textContent = checkNum(numberA, numberB)[1] ? `输出为 ${numberB}` : '输入不为数字, 请重新输入';
						}
						break;
					case 'btn2':
						result.textContent = checkNum(numberA, numberB)[0] ? `输出为 ${numberA.toFixed(numberB)}` : '输入不为数字, 请重新输入';
						break;
					//绝对值
					case 'btn3':
						if (checkBtn(numberABtn, numberBBtn) === 'A'){
							result.textContent = checkNum(numberA, numberB)[0] ? `输出为 ${Math.abs(numberA)}` : '输入不为数字, 请重新输入';
						}else{
							result.textContent = checkNum(numberA, numberB)[1] ? `输出为 ${Math.abs(numberB)}` : '输入不为数字, 请重新输入';
						}
						break;
					//向上进行四舍五入
					case 'btn4':
						if (checkBtn(numberABtn, numberBBtn) === 'A'){
							result.textContent = checkNum(numberA, numberB)[0] ? `输出为 ${Math.ceil(numberA)}` : '输入不为数字, 请重新输入';
						}else{
							result.textContent = checkNum(numberA, numberB)[1] ? `输出为 ${Math.ceil(numberB)}` : '输入不为数字, 请重新输入';
						}
						break;
					//向下进行四舍五入
					case 'btn5':
						if (checkBtn(numberABtn, numberBBtn) === 'A'){
							result.textContent = checkNum(numberA, numberB)[0] ? `输出为 ${Math.floor(numberA)}` : '输入不为数字, 请重新输入';
						}else{
							result.textContent = checkNum(numberA, numberB)[1] ? `输出为 ${Math.floor(numberB)}` : '输入不为数字, 请重新输入';
						}
						break;
					//把数四舍五入为最接近的整数
					case 'btn6':
						if (checkBtn(numberABtn, numberBBtn) === 'A'){
							result.textContent = checkNum(numberA, numberB)[0] ? `输出为 ${Math.round(numberA)}` : '输入不为数字, 请重新输入';
						}else{
							result.textContent = checkNum(numberA, numberB)[1] ? `输出为 ${Math.round(numberB)}` : '输入不为数字, 请重新输入';
						}
						break;
					// 取A 和 B 中的 最大值
					case 'btn7':
						if(checkNum(numberA,numberB)[0] && checkNum(numberA,numberB)){
							result.textContent = numberA > numberB ? `输出为 ${numberA}` : `输出为 ${numberB}`;
						}
						break;
					// 取A 和 B 中的 最小值
					case 'btn8':
						if(checkNum(numberA,numberB)[0] && checkNum(numberA,numberB)){
							result.textContent = numberA > numberB ? `输出为 ${numberB}` : `输出为 ${numberA}`;
						}
						break;
					default:
						break;
				}
			}
		}
	})

	//练习 2
	var result2 = document.querySelector('#result2');
	var numberABtn2 = document.querySelector('#radio-a2');
	var numberBBtn2 = document.querySelector('#radio-b2');

	// 用时间代理的方式绑定按钮
	document.querySelector('#btn-set2').addEventListener('click',function () {
		var numberA = document.querySelector('#num-a2');
		var numberB = document.querySelector('#num-b2');
		var strA = document.querySelector('#str-a').value;
		var strB = document.querySelector('#str-b').value;
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;

		//获取a和b的输入值
		numberA = parseFloat(numberA.value);
		numberB = parseFloat(numberB.value);

		//判断是否点击radio btn
		if (checkBtn(numberABtn2, numberBBtn2) === 'noBtnChecked'){
			alert('没有选中radio按钮');
		} else{
			if (target.nodeName.toLocaleLowerCase() === 'button'){
				switch (target.id){
					case 'btn21':
						result2.textContent = `字符串长度为 ${strA.length}`;
						break;
					case 'btn22':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `字符串当前输入中的第三个字符 ${strA.charAt(3)}`;
						}else{
							result2.textContent = `字符串当前输入中的第三个字符 ${strB.charAt(3)}`;
						}
						break;
					case 'btn23':
						result2.textContent = '2个文字框连接一起 '+strA + strB;
						break;
					case 'btn24':
						result2.textContent = `B中的内容, 在A内容中第一次出现的位置 ${strA.indexOf(strB)}`;
						break;
					case 'btn25':
						result2.textContent = `A中的内容, 在B内容中第一次出现的位置 ${strB.indexOf(strA)}`;
						break;
					case 'btn26':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `使用slice获取选中输入框的部分内容 ${strA.slice(numberA, numberB)}`
						}else{
							result2.textContent = `使用slice获取选中输入框的部分内容 ${strB.slice(numberA, numberB)}`
						}
						break;
					// 获取行数
					case 'btn27':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `使用框行数 ${strA.split(/\n/).length} 行`
						}else{
							result2.textContent = `使用框行数 ${strB.split(/\n/).length} 行`
						}
						break;
					case 'btn28':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `使用slice获取选中输入框的部分内容 ${strA.substr(numberA, numberB)}`
						}else{
							result2.textContent = `使用slice获取选中输入框的部分内容 ${strB.substr(numberA, numberB)}`
						}
						break;
					case 'btn29':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `大写: ${strA.toUpperCase()}`
						}else{
							result2.textContent = `大写: ${strB.toUpperCase()}`
						}
						break;
					case 'btn210':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `小写: ${strA.toLowerCase()}`
						}else{
							result2.textContent = `小写: ${strA.toLowerCase()}`
						}
						break;
					case 'btn211':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `去除半角空格 ${strA.replace(/ /g,'')}`
						}else{
							result2.textContent = `去除半角空格 ${strB.replace(/ /g,'')}`
						}
						break;
					case 'btn212':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `替换输入内容的a为另一个输入框内容 ${strA.replace(/a/g,strB)}`
						}else{
							result2.textContent = `替换输入内容的a为另一个输入框内容 ${strB.replace(/a/g,strA)}`
						}
						break;
					default:
						break;
				}
			}
		}
	})

	//练习 3
	/*
	实现一个字符串头尾去除空格的函数
	注意需要去除的空格，包括全角、半角空格
	暂时不需要学习和使用正则表达式的方式
	*/
	function diyTrim(str) {
		var result = "";

		str.replace(/ 　/g,'');

		return result;
	}

	// 测试用例
	console.log('测试1');
	console.log(diyTrim(' a f b    ')); // ->a f b
	console.log(diyTrim('    ffdaf    ')); // ->ffdaf
	console.log(diyTrim('1    ')); // ->1
	console.log(diyTrim('　　f')); // ->f
	console.log(diyTrim('  　  a f b 　　 ')); // ->a f b
	console.log(diyTrim(' ')); // ->
	console.log(diyTrim('　')); // ->
	console.log(diyTrim('')); // ->

	/*
	去掉字符串str中，连续重复的地方
	*/
	function removeRepetition(str) {
		var result = "";
		var first = str.charAt(1) || false;
		for (var i = 1; i < str.length; i++){
			if (first){

			} else{
				result = "";
			}
		}

		return result;
	}

	// 测试用例
	console.log(removeRepetition("aaa")); // ->a
	console.log(removeRepetition("abbba")); // ->aba
	console.log(removeRepetition("aabbaabb")); // ->abab
	console.log(removeRepetition("")); // ->
	console.log(removeRepetition("abc")); // ->abc

</script>
</html>